{"version":3,"sources":["components/Redux/DialogsReducer.js","HOC/withAuthRedirect.jsx","Assets/Images/userAvatar.jpg","Common/UsersPagination.module.css","Assets/Images/preLoader.gif","components/Login/Login.module.css","components/Nav/Nav.module.css","API/API.js","serviceWorker.js","Common/updateObjectHelper.js","components/Redux/UsersReducer.js","components/Redux/AuthReducer.js","components/Redux/AppReducer.js","components/Redux/Redux-Store.js","components/Nav/Nav.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Users/User.js","Common/UsersPagination.js","components/Users/Users.js","components/Redux/UsersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","Common/Loader.js","components/Header/Header.module.css","Common/FormControls.module.css","Utilits/Validators.js","components/Users/Users.module.css","Common/FormControls.js","components/Redux/ProfileReducer.js"],"names":["initialReducer","dialogsData","id","name","messagesData","message","sendMessageActionCreator","data","type","dialogsPageReducer","state","action","body","withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","auth","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","unfollow","delete","follow","post","getUserProfile","userId","warning","profileAPI","getUserStatus","updateStatus","status","put","authAPI","getAuth","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","updateObjectHelper","item","itemId","newAction","newData","map","u","users","totalItemsCount","isFetching","followRequest","setUsers","setTotalCount","totalCount","fetchingToggle","followingToggle","usersReducer","followed","p","filter","setAuthUserData","getAuthThunkCreator","dispatch","a","resultCode","authReducer","initialised","appReducer","reducers","combineReducers","profilePage","profilePageReducer","dialogsPage","usersPage","AuthReducer","form","formReducer","appPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","Nav","className","classes","nav","activeClassName","active","News","Music","Settings","User","user","followThunk","unfollowThunk","styles","pic","src","photos","small","userAvatar","disabled","some","onClick","UsersPagination","usersPageChanged","portionSize","pagesAmount","Math","ceil","pages","i","push","pagePortionAmount","useState","portionNumber","setPortionNumber","prevPagePortion","nextPagePortion","activeButton","Users","key","usersReSelector","createSelector","el","pageSizeSelector","totalUsersCountSelector","currentPageSelector","isFetchingSelector","followRequestSelector","UsersContainer","setCurrentPage","getUsersThunkCreator","Loader","items","Header","header","logoutThunk","HeaderContainer","headerLoader","maxLength30","maxLengthCreator","ReduxLoginForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","authError","loginThunk","stopSubmit","_error","messages","DialogsContainer","lazy","ProfileContainer","App","appIsInitialisedTC","fallback","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","loader","preLoader","value","maxLength","length","FormWrapper","Element","input","meta","hasError","touched","forms","textError","Textarea","postsData","likes","profile","addPostActionCreator","setStatus","getUserProfileThunkCreator","newPost","postId"],"mappings":"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","file":"static/js/main.fdaebb62.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\n\r\nlet initialReducer = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Pesya'},\r\n        {id: 2, name: 'Vasya'},\r\n        {id: 3, name: 'Tolik'},\r\n        {id: 4, name: 'Alkogolik'}\r\n    ],\r\n    messagesData: [\r\n        {id: 1, message: 'Hello'},\r\n        {id: 2, message: 'World'},\r\n        {id: 3, message: 'Great'}\r\n    ]\r\n};\r\n\r\n\r\nconst dialogsPageReducer = (state = initialReducer, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body= action.data;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {id: 4, message: body}],\r\n\r\n        }\r\n        default:\r\n\r\n            return state;\r\n    }\r\n}\r\nexport const sendMessageActionCreator = (data) => {\r\n    return {type: SEND_MESSAGE, data}\r\n};\r\n\r\nexport default dialogsPageReducer;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={'/Login'}/>\r\n            }\r\n            return <Component {...this.props}/>\r\n        }\r\n    };\r\n    const mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth\r\n        }\r\n    };\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n    return ConnectedRedirectComponent;\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/userAvatar.032a58a0.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activeButton\":\"UsersPagination_activeButton__MSjMy\"};","module.exports = __webpack_public_path__ + \"static/media/preLoader.0d0345f6.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authError\":\"Login_authError__2-tqu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1Am_Z\",\"item\":\"Nav_item__Ma7JR\",\"active\":\"Nav_active__1rw6C\"};","import * as axios from \"axios\";\r\nimport warning from \"react-redux/lib/utils/warning\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {'API-KEY': '110834f4-4de1-441e-9bfb-f3d1fda8381b'}\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getUserProfile(userId) {\r\n        warning('метод устарел. Используйте profileAPI.getUserProfile')\r\n        return profileAPI.getUserProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getUserStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n};\r\n\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                    return response.data\r\n                }\r\n            )\r\n    },\r\n     login(email, password, rememberMe){\r\n        return instance.post(`/auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout(){\r\n        return instance.delete(`/auth/login`)\r\n    }\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\n\r\nexport const updateObjectHelper =(item, itemId, newAction, newData )=>{\r\n    return item.map(u => {\r\n        if (u[itemId] === newAction) {\r\n            return {...u, ...newData}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../../API/API\";\r\nimport {updateObjectHelper} from \"../../Common/updateObjectHelper\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst FETCHING_TOGGLE = 'FETCHING_TOGGLE';\r\nconst FOLLOWING_TOGGLE = 'FOLLOWING_TOGGLE';\r\n\r\nlet initialReducer = {\r\n    users: [],\r\n    pageSize: 50,\r\n    totalItemsCount: 14,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followRequest: []\r\n};\r\n\r\nconst usersReducer = (state = initialReducer, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectHelper(state.users, ['id'],action.userId,{followed: true})\r\n                /*state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })*/\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectHelper(state.users, ['id'], action.userId,{followed: false})\r\n                   /* state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })*/\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.p\r\n            }\r\n        case SET_TOTAL_COUNT:\r\n            return {\r\n                ...state, totalItemsCount: action.totalCount\r\n            }\r\n        case FETCHING_TOGGLE:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case FOLLOWING_TOGGLE:\r\n            return {\r\n                ...state,\r\n                followRequest: action.followRequest ? [...state.followRequest, action.userId]\r\n                    : state.followRequest.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return {type: FOLLOW, userId}\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return {type: UNFOLLOW, userId}\r\n};\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n};\r\nexport const setCurrentPage = (p) => {\r\n    return {type: SET_CURRENT_PAGE, p}\r\n};\r\nexport const setTotalCount = (totalCount) => {\r\n    return {type: SET_TOTAL_COUNT, totalCount}\r\n};\r\nexport const fetchingToggle = (isFetching) => {\r\n    return {type: FETCHING_TOGGLE, isFetching}\r\n};\r\nexport const followingToggle = (followRequest, userId) => {\r\n    return {type: FOLLOWING_TOGGLE, followRequest, userId}\r\n};\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(fetchingToggle(true));\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n                dispatch(fetchingToggle(false));\r\n                dispatch(setUsers(data.items));\r\n                dispatch(setTotalCount(data.totalCount));\r\n\r\n\r\n    };\r\n}\r\n\r\nexport const unfollowThunk = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(followingToggle(true, userId));\r\n        let response = await usersAPI.unfollow(userId);\r\n                if (response.resultCode === 0) {\r\n                    dispatch(unfollow(userId))\r\n                }\r\n                dispatch(followingToggle(false, userId));\r\n\r\n    }\r\n};\r\n\r\nexport const followThunk = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(followingToggle(true, userId));\r\n       let response = await usersAPI.follow(userId);\r\n                if (response.resultCode === 0) {\r\n                    dispatch(follow(userId))\r\n                }\r\n                dispatch(followingToggle(false, userId));\r\n    }\r\n};\r\n\r\nexport default usersReducer;","import {authAPI} from \"../../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA';\r\nconst FETCHING_TOGGLE = 'FETCHING_TOGGLE';\r\n\r\nlet initialReducer = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    isFetching: false\r\n};\r\n\r\nconst authReducer = (state = initialReducer, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        case FETCHING_TOGGLE:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) => {\r\n\r\n    return {type: SET_AUTH_USER_DATA, data: {id, login, email, isAuth}}\r\n\r\n};\r\nexport const fetchingToggle = (isFetching) => {\r\n    return {type: FETCHING_TOGGLE, isFetching}\r\n};\r\n\r\nexport const getAuthThunkCreator = () => async (dispatch) => {\r\n        dispatch(fetchingToggle(true));\r\n         let response = await authAPI.getAuth(fetchingToggle, setAuthUserData);\r\n                    if (response.resultCode === 0) {\r\n                        dispatch(fetchingToggle(false));\r\n                        let {id, login, email} = response.data;\r\n                        dispatch(setAuthUserData(id, login, email, true));\r\n                    }\r\n};\r\n\r\nexport const loginThunk = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n       let response =  await authAPI.login(email, password, rememberMe = false);\r\n                    if (response.data.resultCode === 0) {\r\n                        dispatch(getAuthThunkCreator());\r\n                    } else {\r\n                        dispatch(stopSubmit('login', {_error: response.data.messages[0]}));\r\n                    }\r\n    }\r\n};\r\n\r\nexport const logoutThunk = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout();\r\n                    if (response.data.resultCode === 0) {\r\n                        dispatch(setAuthUserData(null, null, null, false));\r\n                    }\r\n    }\r\n};\r\nexport default authReducer;","import {getAuthThunkCreator} from \"./AuthReducer\";\r\n\r\nconst APP_IS_INITIALISED = 'APP_IS_INITIALISED';\r\n\r\nlet initialReducer = {\r\n    initialised: false\r\n};\r\n\r\nconst appReducer = (state = initialReducer, action) => {\r\n    switch (action.type) {\r\n        case APP_IS_INITIALISED:\r\n            return {\r\n                ...state,\r\n                initialised: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const appIsInitialised = () => {\r\n    return {type: APP_IS_INITIALISED}\r\n};\r\n\r\nexport const appIsInitialisedTC = () => (dispatch) => {\r\n    let promise = dispatch(getAuthThunkCreator());\r\n    Promise.all([promise]).then(()=>{dispatch(appIsInitialised())})\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profilePageReducer from \"./ProfileReducer\";\r\nimport dialogsPageReducer from \"./DialogsReducer\";\r\nimport usersReducer from \"./UsersReducer\";\r\nimport AuthReducer from \"./AuthReducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./AppReducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    usersPage: usersReducer,\r\n    auth: AuthReducer,\r\n    form: formReducer,\r\n    appPage: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleWare)\r\n));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport classes from './../Nav/Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n    return <nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n            <NavLink to='/Profile' activeClassName={classes.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${classes.item} ${classes.active}`}>\r\n            <NavLink to='/Dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/News' activeClassName={classes.active}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/Music' activeClassName={classes.active}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n        <NavLink to='/Settings' activeClassName={classes.active}>Settings</NavLink>\r\n    </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/Users' activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport default Nav; ","import React from 'react' ;\r\nimport classes from './News.module.css';\r\n\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>News</div>\r\n    )\r\n\r\n}\r\n\r\nexport default News;","import React from 'react' ;\r\nimport classes from './Music.module.css';\r\n\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>Music</div>\r\n    )\r\n\r\n}\r\n\r\nexport default Music;","import React from 'react' ;\r\nimport classes from './Settings.module.css';\r\n\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>Settings</div>\r\n    )\r\n\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport styles from \"./Users.module.css\";\r\nimport userAvatar from \"../../Assets/Images/userAvatar.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user,followRequest, followThunk, unfollowThunk,...props}) => {\r\n    return <div>\r\n       <span>\r\n           <div className={styles.pic}>\r\n               <NavLink to={'/Profile/' + user.id}>\r\n               <img src={user.photos.small != null ? user.photos.small : userAvatar}/>\r\n               </NavLink>\r\n           </div>\r\n            <div>\r\n                {user.followed ?\r\n                    <button disabled={followRequest.some(id => id === user.id)}\r\n\r\n                            onClick={() => {\r\n                                unfollowThunk(user.id);\r\n                            }}>unfollow</button>\r\n\r\n                    : <button disabled={followRequest.some(id => id === user.id)} onClick={() => {\r\n                        followThunk(user.id);\r\n\r\n                    }}>follow</button>}\r\n            </div>\r\n       </span>\r\n\r\n                <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'u.location.city'}</div>\r\n                    <div>{'u.location.country'}</div>\r\n                </span>\r\n            </span>\r\n        }\r\n    </div>\r\n};\r\nexport default User;","import React from 'react';\r\nimport styles from './UsersPagination.module.css'\r\n\r\nlet UsersPagination = ({totalItemsCount,pageSize,currentPage,usersPageChanged, portionSize=10,...props}) => {\r\n    let pagesAmount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesAmount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n\r\n    let pagePortionAmount = pagesAmount / portionSize;\r\n    let [portionNumber, setPortionNumber] = React.useState(1);\r\n    let prevPagePortion = (portionNumber -1) * portionSize;\r\n    let nextPagePortion = portionNumber * portionSize;\r\n\r\n\r\n    return <div>\r\n\r\n        <div>\r\n            {portionNumber > 1 && <button onClick={()=> setPortionNumber(portionNumber -1)}>prev</button>}\r\n\r\n            {pages.filter(p=> p >= prevPagePortion && p<=nextPagePortion)\r\n                .map(p => {\r\n                return <span className={currentPage === p && styles.activeButton}\r\n                             onClick={() => usersPageChanged(p)}>{p}</span>\r\n            })}\r\n\r\n            {pagePortionAmount > portionNumber && <button onClick={()=> setPortionNumber(portionNumber +1)}>next</button>}\r\n        </div>\r\n\r\n    </div>\r\n};\r\n\r\nexport default UsersPagination;\r\n","import React from 'react';\r\nimport User from './User';\r\nimport UsersPagination from \"../../Common/UsersPagination\";\r\n\r\nlet Users = ({totalItemsCount, pageSize, currentPage, usersPageChanged, users, followRequest, followThunk,\r\n                 unfollowThunk, ...props}) => {\r\n    return <div>\r\n        <UsersPagination totalItemsCount={totalItemsCount} pageSize={pageSize}\r\n                         currentPage={currentPage} usersPageChanged={usersPageChanged}/>\r\n\r\n        {users.map(u => <User key={u.id} user={u} followRequest={followRequest} followThunk={followThunk}\r\n                              unfollowThunk={unfollowThunk}/>)}\r\n    </div>\r\n};\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const usersSelector = (state) => {\r\n    return state.usersPage.users\r\n};\r\n\r\nexport const usersReSelector = createSelector(usersSelector,(users)=>{return users.filter(el => true)});\r\n\r\nexport const pageSizeSelector = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\nexport const totalUsersCountSelector = (state) => {\r\n    return state.usersPage.totalItemsCount\r\n};\r\nexport const currentPageSelector = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\nexport const isFetchingSelector = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\nexport const followRequestSelector = (state) => {\r\n    return state.usersPage.followRequest\r\n};\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, fetchingToggle, setCurrentPage,\r\n    setTotalCount, setUsers, unfollow, followingToggle, getUsersThunkCreator, unfollowThunk, followThunk\r\n} from \"../Redux/UsersReducer\";\r\nimport Users from \"./Users\";\r\nimport Loader from \"../../Common/Loader\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    currentPageSelector, followRequestSelector,\r\n    isFetchingSelector,\r\n    pageSizeSelector,\r\n    totalUsersCountSelector, usersReSelector\r\n} from \"../Redux/UsersSelectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    };\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsersThunkCreator(currentPage, pageSize);\r\n    };\r\n\r\n    usersPageChanged = (p) => {\r\n        const {pageSize}= this.props;\r\n        this.props.setCurrentPage(p);\r\n        this.props.getUsersThunkCreator(p, pageSize);\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Loader/> : null}\r\n\r\n            <Users\r\n                pageSize={this.props.pageSize}\r\n                totalItemsCount={this.props.totalItemsCount}\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                usersPageChanged={this.usersPageChanged}\r\n                followRequest={this.props.followRequest}\r\n                followThunk={this.props.followThunk}\r\n                unfollowThunk={this.props.unfollowThunk}\r\n            />\r\n        </>\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: usersReSelector(state),\r\n        pageSize: pageSizeSelector(state),\r\n        totalItemsCount: totalUsersCountSelector(state),\r\n        currentPage: currentPageSelector(state),\r\n        isFetching: isFetchingSelector(state),\r\n        followRequest: followRequestSelector(state)\r\n    }\r\n};\r\n\r\n/*const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        follow: (userId) => {\r\n            dispatch(followAC(userId))\r\n        },\r\n        unfollow: (userId) => {\r\n            dispatch(unfollowAC(userId))\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users))\r\n        },\r\n        setCurrentPage: (p) => {\r\n            dispatch(setCurrentPageAC(p))\r\n        },\r\n        setTotalCount: (totalCount) => {\r\n            dispatch(setTotalCountAC(totalCount))\r\n        },\r\n        fetchingToggle: (isFetching) => {\r\n            dispatch(fetchingToggleAC(isFetching))\r\n        },\r\n    }\r\n};*/   // старая версия mapDispatсhToProps на случай, хз какой :)\r\n\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow, unfollow, setUsers, setCurrentPage,\r\n    setTotalCount, fetchingToggle, followingToggle,\r\n    getUsersThunkCreator, unfollowThunk, followThunk\r\n}), withAuthRedirect)(UsersContainer);","import React from 'react';\r\nimport classes from'./../Header/Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) =>{\r\n    return  <header className={classes.header}>\r\n        <img src = 'https://img2.freepng.ru/20180716/ucr/kisspng-silverstripe-content-management-system-open-source-dark-biography-5b4d60d933bb42.1958973915317977212119.jpg'/>\r\n        <div className={classes.login}>\r\n            {props.isAuth ? <div>{props.login} - <div className={classes.login} onClick={props.logoutThunk}>Logout</div></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n\r\n    </header>\r\n}\r\n\r\nexport default Header; ","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {setAuthUserData, fetchingToggle, getAuthThunkCreator, logoutThunk} from \"../Redux/AuthReducer\";\r\nimport Header from \"./Header\";\r\nimport Loader from \"../../Common/Loader\";\r\nimport classes from './../Header/Header.module.css';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n\r\n    render() {\r\n        return <>\r\n            <div className={classes.headerLoader}>{this.props.isFetching ? <Loader/> : null}</div>\r\n            <Header {...this.props}/>\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        login: state.auth.login,\r\n        isAuth: state.auth.isAuth,\r\n        isFetching: state.auth.isFetching,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, fetchingToggle, getAuthThunkCreator, logoutThunk})(HeaderContainer);","import React from 'react';\r\n// берем компонент поля (Field) и провайдер для формы (reduxForm)\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {Input} from \"../../Common/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../Utilits/Validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginThunk, logoutThunk} from \"../Redux/AuthReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from './Login.module.css'\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nlet LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div><h3>Login</h3></div>\r\n            <div>\r\n                <Field placeholder=\"Email\" component={Input} name=\"email\" validate={[maxLength30, required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" component={Input} name=\"password\" type='password'\r\n                       validate={[maxLength30, required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component=\"input\" type=\"checkbox\" name={'rememberMe'}/> Запомнить меня\r\n            </div>\r\n            <div>{props.error? <div className={styles.authError}>{props.error}</div>: null}</div>\r\n            <div>\r\n                <button type=\"submit\">Войти</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\nconst ReduxLoginForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login =(props)=> {\r\n        if (props.isAuth) {\r\n            return <Redirect to={'/Profile'}/>\r\n        };\r\n\r\n        const onSubmit = (data) => props.loginThunk(data.email, data.password, data.rememberMe); //console.log(values);\r\n        return <ReduxLoginForm onSubmit={onSubmit}/>;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {loginThunk})(Login);","import React, {Component, Suspense, lazy} from 'react';\r\nimport './App.css';\r\nimport Nav from './components/Nav/Nav';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {appIsInitialisedTC} from \"./components/Redux/AppReducer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Loader from \"./Common/Loader\";\r\nimport store from \"./components/Redux/Redux-Store\";\r\nconst DialogsContainer = lazy(()=> import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = lazy(()=> import('./components/Profile/ProfileContainer'))\r\n\r\nclass App extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.appIsInitialisedTC();\r\n    };\r\n\r\n    render() {\r\n        if(this.props.initialised === false){\r\n            return  <Loader/>}\r\n\r\n        return (\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Nav/>\r\n\r\n                    <div className='app-wrapper-content'>\r\n                        <Suspense fallback={<div><Loader/></div>}>\r\n                        <Route path='/Dialogs' render={() => <DialogsContainer/>}/>\r\n                        <Route path='/Profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                        </Suspense>\r\n                        <Route path='/News' render={() => <News/>}/>\r\n                        <Route path='/Music' render={() => <Music/>}/>\r\n                        <Route path='/Settings' render={() => <Settings/>}/>\r\n                        <Route path='/Users' render={() => <UsersContainer/>}/>\r\n                        <Route path='/Login' render={() => <Login/>}/>\r\n                    </div>\r\n                </div>\r\n           )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        initialised: state.appPage.initialised\r\n    }\r\n};\r\nconst AppContainer = compose(withRouter, connect(mapStateToProps, {appIsInitialisedTC}))(App);\r\nconst SamuraiJSApp =(props)=>{\r\n    return (<BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n    )\r\n};\r\n\r\nexport default SamuraiJSApp;","import * as serviceWorker from './serviceWorker';\r\nimport store from \"./components/Redux/Redux-Store\";\r\nimport ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport SamuraiJSApp from \"./App\";\r\n\r\nconst API_KEY = '5b5f72f1-a8a7-4748-9e84-4f7b48d7955a';\r\n\r\n    ReactDOM.render(\r\n       <SamuraiJSApp/>, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\nstore=window.store;","import styles from \"../components/Users/Users.module.css\";\r\nimport preLoader from \"../Assets/Images/preLoader.gif\";\r\nimport React from \"react\";\r\n\r\nlet Loader =(props)=>{\r\n    return   <div className={styles.loader}>\r\n        <img src={preLoader}></img>\r\n    </div>\r\n}\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1H7E2\",\"login\":\"Header_login__18Fv4\",\"headerLoader\":\"Header_headerLoader__2bs7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControls_error__15XSW\",\"textError\":\"FormControls_textError__2eQUD\"};","import React from 'react';\r\n\r\nexport const required = (value)=>{\r\n    if (value) return undefined;\r\n    return `this field is required`;\r\n};\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Must be ${maxLength} characters or less`;\r\n    return undefined;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pic\":\"Users_pic__3Oh8H\",\"loader\":\"Users_loader__3bUtm\"};","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\n\r\n//рефакторинг с применением HOC самостоятельный, код как у Димыча в концe выпуска 77.\r\n\r\nconst FormWrapper = (Element) => {\r\n    let wrappedForm =({input, meta, ...props}) =>{\r\n        const hasError = meta.touched && meta.error;\r\n        return(\r\n            (<div >\r\n                <div >\r\n                    <Element className={hasError ? styles.error : ''} {...input} {...props} />\r\n                </div>\r\n                <div className={styles.forms + '' + styles.error}>\r\n                    {hasError && <span className={hasError ? styles.textError : ''}>{meta.error}</span>}\r\n                </div>\r\n            </div>)\r\n        )\r\n    }\r\n    return wrappedForm;\r\n};\r\nexport const Input =  FormWrapper('input');\r\nexport const Textarea =  FormWrapper('textarea');","import {profileAPI, usersAPI} from \"../../API/API\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialReducer = {\r\n    postsData: [\r\n        {id: 1, message: 'howdy', likes: 3},\r\n        {id: 2, message: 'chicken corn', likes: 25}\r\n    ],\r\n    profile: null,\r\n    status: null\r\n};\r\n\r\nconst profilePageReducer = (state = initialReducer, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.data,\r\n                likes: 4\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n            }\r\n        }\r\n        case SET_USERS_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(post => post.id != action.postId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (data) => {\r\n    return {type: ADD_POST, data}\r\n};\r\nexport const setUsersProfile = (profile) => {\r\n    return {type: SET_USERS_PROFILE, profile: profile}\r\n};\r\nexport const setStatus = (status) => {\r\n    return {type: SET_STATUS, status: status}\r\n};\r\nexport const deletePostAC= (postId) => {\r\n    return {type: DELETE_POST, postId}\r\n};\r\n\r\nexport const getUserProfileThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.getUserProfile(userId);\r\n                dispatch(setUsersProfile(response.data));\r\n    }\r\n};\r\n\r\nexport const getUserStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getUserStatus(userId);\r\n                dispatch(setStatus(response.data));\r\n    }\r\n};\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.updateStatus(status);\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setStatus(status));\r\n                }\r\n    }\r\n};\r\n\r\nexport default profilePageReducer;"],"sourceRoot":""}